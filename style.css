/* ═══════════════════════════════════════════════════════════════════════════
   style.css — Peopole AI v8.0 | Earth Solutions Visa Zone
   ═══════════════════════════════════════════════════════════════════════════ */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --navy:   #0b1629;
  --navy2:  #111f3a;
  --navy3:  #172544;
  --gold:   #d4a843;
  --gold2:  #f0c96a;
  --teal:   #1ec8b0;
  --green:  #25d366;
  --rose:   #e05c7a;
  --blue:   #3b82f6;
  --text:   #e8edf5;
  --text2:  #8fa3c0;
  --border: rgba(255,255,255,.07);
  --border2:rgba(255,255,255,.13);
  --r: 14px;
  --font-d: 'Playfair Display', serif;
  --font-b: 'Outfit', sans-serif;
  --sidebar-w: 268px;
  --topbar-h:  58px;
}

html { height: 100%; font-size: 14px; }
body {
  background: var(--navy);
  color: var(--text);
  font-family: var(--font-b);
  height: 100%;
  overflow: hidden;
  line-height: 1.6;
}
body.bn-mode { font-family: 'Noto Sans Bengali', var(--font-b); }

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-thumb { background: rgba(212,168,67,.2); border-radius: 10px; }

/* ── APP SHELL ──────────────────────────────────────────────────────────── */
.app {
  display: flex;
  height: 100vh;
  overflow: hidden;
  position: relative;
}

/* ── SIDEBAR ────────────────────────────────────────────────────────────── */
.sidebar {
  width: var(--sidebar-w);
  background: var(--navy2);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  height: 100vh;
  flex-shrink: 0;
  overflow-y: auto;
  z-index: 100;
  transition: transform .28s cubic-bezier(.4,0,.2,1);
}

.logo { padding: 18px 16px 14px; border-bottom: 1px solid var(--border); }
.logo-top { display: flex; align-items: center; gap: 11px; }
.logo-gem {
  width: 40px; height: 40px; border-radius: 10px; overflow: hidden;
  background: var(--navy3); flex-shrink: 0; border: 1px solid var(--border2);
}
.logo-gem img { width: 100%; height: 100%; object-fit: cover; }
.logo-name { font-family: var(--font-d); font-size: 16px; font-weight: 700; color: var(--gold); }
.logo-sub  { font-size: 10px; color: var(--text2); letter-spacing: .3px; }

.new-btn {
  margin: 12px 12px 8px;
  display: flex; align-items: center; gap: 8px;
  background: rgba(212,168,67,.1);
  border: 1px solid rgba(212,168,67,.25);
  color: var(--gold); font-family: var(--font-b); font-size: 13px; font-weight: 600;
  padding: 10px 14px; border-radius: 10px; cursor: pointer;
  transition: background .2s;
}
.new-btn:hover { background: rgba(212,168,67,.18); }

.stage-badge-wrap {
  margin: 4px 12px 8px; display: flex; align-items: center; gap: 8px;
  background: var(--navy3); border: 1px solid var(--border2);
  border-radius: 10px; padding: 8px 12px;
}
.stage-badge { font-size: 12px; color: var(--text); flex: 1; }
.stage-change-btn {
  background: none; border: 1px solid var(--border2); color: var(--text2);
  font-size: 11px; padding: 3px 8px; border-radius: 6px; cursor: pointer; font-family: var(--font-b);
  transition: all .2s; flex-shrink: 0;
}
.stage-change-btn:hover { border-color: var(--gold); color: var(--gold); }

.offline-bar {
  margin: 4px 12px; background: rgba(224,92,122,.12);
  border: 1px solid rgba(224,92,122,.25); border-radius: 8px;
  padding: 8px 12px; font-size: 12px; color: var(--rose);
  display: flex; align-items: center; gap: 8px;
}

.chat-list { flex: 1; overflow-y: auto; padding: 4px 8px; }

.sidebar-footer { padding: 12px; border-top: 1px solid var(--border); margin-top: auto; }
.whatsapp-btn {
  display: flex; align-items: center; gap: 10px;
  background: linear-gradient(135deg, #25d366, #128c7e);
  color: #fff; text-decoration: none; border-radius: 10px;
  padding: 10px 14px; font-size: 13px; font-weight: 600; margin-bottom: 10px;
  transition: opacity .2s;
}
.whatsapp-btn:hover { opacity: .88; }
.contact-card { font-size: 12px; color: var(--text2); }
.contact-card-title { font-size: 10px; font-weight: 700; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text2); margin-bottom: 6px; }
.contact-line { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }

/* ── OVERLAY (mobile) ───────────────────────────────────────────────────── */
.overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,.55); z-index: 90; backdrop-filter: blur(2px);
}
.overlay.active { display: block; }

/* ── MAIN ───────────────────────────────────────────────────────────────── */
.main {
  flex: 1; display: flex; flex-direction: column;
  height: 100vh; overflow: hidden; min-width: 0;
}

/* ── TOPBAR ─────────────────────────────────────────────────────────────── */
.topbar {
  height: var(--topbar-h); background: var(--navy2);
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; gap: 10px; padding: 0 14px;
  flex-shrink: 0; z-index: 10;
}
.menu-btn {
  background: none; border: none; color: var(--text2); font-size: 20px;
  cursor: pointer; padding: 4px 6px; border-radius: 6px; transition: color .2s; display: none;
}
.menu-btn:hover { color: var(--gold); }
.topbar-logo-wrap { flex-shrink: 0; }
.topbar-logo { width: 34px; height: 34px; border-radius: 8px; object-fit: cover; }
.topbar-info { flex: 1; min-width: 0; }
.topbar-title { font-family: var(--font-d); font-size: 16px; font-weight: 700; color: var(--gold); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.topbar-sub   { font-size: 11px; color: var(--text2); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.topbar-actions { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }

.status-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--teal); flex-shrink: 0;
  box-shadow: 0 0 6px var(--teal); transition: background .3s;
}

.pricing-btn {
  display: flex; align-items: center; gap: 5px;
  background: rgba(212,168,67,.1); border: 1px solid rgba(212,168,67,.3);
  color: var(--gold); font-family: var(--font-b); font-size: 12px; font-weight: 600;
  padding: 6px 11px; border-radius: 8px; cursor: pointer; transition: all .2s;
}
.pricing-btn:hover { background: rgba(212,168,67,.2); }

.lang-btn {
  background: none; border: 1px solid var(--border2);
  color: var(--gold); font-size: 12px; font-weight: 700;
  font-family: 'Noto Sans Bengali', var(--font-b);
  padding: 6px 11px; border-radius: 8px; cursor: pointer; transition: all .2s;
}
.lang-btn:hover { border-color: var(--gold); background: rgba(212,168,67,.1); }

.icon-btn {
  display: flex; align-items: center; gap: 4px;
  background: none; border: 1px solid var(--border2);
  color: var(--text2); font-size: 12px; font-family: var(--font-b);
  padding: 6px 10px; border-radius: 8px; cursor: pointer; transition: all .2s;
}
.icon-btn:hover { border-color: var(--rose); color: var(--rose); }

/* ── MESSAGES ────────────────────────────────────────────────────────────── */
.messages {
  flex: 1; overflow-y: auto; padding: 20px 20px 10px;
  display: flex; flex-direction: column; gap: 14px;
  background: radial-gradient(ellipse at 80% 10%, rgba(212,168,67,.035) 0%, transparent 60%),
              radial-gradient(ellipse at 10% 90%, rgba(30,200,176,.03) 0%, transparent 60%), var(--navy);
}

.msg { display: flex; max-width: 78%; animation: fadeUp .25s ease; }
.msg.user      { align-self: flex-end; flex-direction: row-reverse; }
.msg.assistant { align-self: flex-start; }
.msg.ad-banner { align-self: stretch; max-width: 100%; }

.msg-bubble {
  display: flex; flex-direction: column; gap: 4px;
  background: var(--navy2); border: 1px solid var(--border);
  border-radius: 16px; padding: 12px 16px;
  max-width: 100%;
}
.msg.user .msg-bubble {
  background: linear-gradient(135deg, rgba(212,168,67,.18), rgba(240,201,106,.1));
  border-color: rgba(212,168,67,.25);
}

.msg-text { font-size: 14px; line-height: 1.7; color: var(--text); }
.msg-text p  { margin-bottom: 6px; }
.msg-text p:last-child { margin-bottom: 0; }
.msg-text ul { padding-left: 18px; margin: 6px 0; }
.msg-text li { margin-bottom: 4px; }
.msg-text strong { color: var(--gold2); }
.msg-text em     { color: var(--teal); font-style: italic; }
.msg-text a      { color: var(--teal); text-decoration: underline; }
.msg-text a:hover{ opacity: .8; }
.msg-text br     { display: none; }

.msg-time { font-size: 10px; color: var(--text2); align-self: flex-end; margin-top: 2px; }

/* Typing dots */
.msg-text.typing {
  display: flex; align-items: center; gap: 5px;
  padding: 4px 0; min-height: 24px;
}
.msg-text.typing span {
  width: 7px; height: 7px; border-radius: 50%; background: var(--text2);
  animation: typingPulse 1.2s ease-in-out infinite;
}
.msg-text.typing span:nth-child(2) { animation-delay: .2s; }
.msg-text.typing span:nth-child(3) { animation-delay: .4s; }
@keyframes typingPulse { 0%,80%,100%{opacity:.2;transform:scale(.8)} 40%{opacity:1;transform:scale(1)} }

/* ── AD BANNER ───────────────────────────────────────────────────────────── */
.ad-inner {
  position: relative; background: rgba(212,168,67,.06);
  border: 1px solid rgba(212,168,67,.18); border-radius: 12px;
  padding: 14px 40px 14px 16px; width: 100%;
}
.ad-label {
  font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase;
  color: var(--gold); font-weight: 700; margin-bottom: 6px;
}
.ad-text { font-size: 13px; color: var(--text); }
.ad-dismiss {
  position: absolute; top: 10px; right: 10px;
  background: none; border: none; color: var(--text2); cursor: pointer; font-size: 14px;
}
.ad-dismiss:hover { color: var(--rose); }

/* ── FAQ AREA ────────────────────────────────────────────────────────────── */
.faq-area {
  border-top: 1px solid var(--border); background: var(--navy2); padding: 0 16px;
}
.faq-toggle {
  display: flex; align-items: center; gap: 6px; width: 100%;
  background: none; border: none; color: var(--text2); font-family: var(--font-b);
  font-size: 12px; padding: 10px 0; cursor: pointer; transition: color .2s;
}
.faq-toggle:hover { color: var(--gold); }
.faq-arrow { margin-left: auto; font-size: 12px; }
.faq-panel {
  display: none; flex-wrap: wrap; gap: 6px; padding-bottom: 10px;
}
.qp {
  background: rgba(255,255,255,.04); border: 1px solid var(--border2);
  color: var(--text2); font-family: var(--font-b); font-size: 12px;
  padding: 6px 12px; border-radius: 100px; cursor: pointer;
  transition: all .2s; text-align: left;
}
.qp:hover { border-color: var(--gold); color: var(--gold); background: rgba(212,168,67,.07); }

/* ── INPUT AREA ──────────────────────────────────────────────────────────── */
.input-area {
  padding: 12px 16px 14px; background: var(--navy2);
  border-top: 1px solid var(--border);
}
.input-wrap { display: flex; gap: 8px; align-items: flex-end; }

textarea {
  flex: 1; background: var(--navy3); border: 1px solid var(--border2);
  color: var(--text); font-family: var(--font-b); font-size: 14px;
  border-radius: 12px; padding: 11px 14px; resize: none; outline: none;
  max-height: 140px; line-height: 1.5; transition: border-color .2s;
}
textarea::placeholder { color: var(--text2); }
textarea:focus { border-color: rgba(212,168,67,.4); }

.send-btn {
  display: flex; align-items: center; gap: 6px;
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  color: #0b1629; border: none; border-radius: 12px;
  padding: 11px 18px; font-family: var(--font-b); font-size: 14px; font-weight: 700;
  cursor: pointer; transition: opacity .2s, transform .1s; flex-shrink: 0;
}
.send-btn:hover   { opacity: .88; }
.send-btn:active  { transform: scale(.96); }
.send-btn:disabled{ opacity: .45; cursor: not-allowed; transform: none; }

.disclaimer {
  font-size: 11px; color: var(--text2); text-align: center; margin-top: 8px; opacity: .7;
}

/* ── STAGE MODAL ─────────────────────────────────────────────────────────── */
.stage-modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.72);
  backdrop-filter: blur(8px); z-index: 200;
  display: flex; align-items: center; justify-content: center; padding: 20px;
}
.stage-modal-backdrop.hidden { display: none; }

.stage-modal {
  background: var(--navy2); border: 1px solid var(--border2);
  border-radius: 20px; padding: 28px 24px; max-width: 520px; width: 100%;
  max-height: 90vh; overflow-y: auto; animation: fadeUp .3s ease;
}
.stage-modal-header { text-align: center; margin-bottom: 24px; }
.stage-modal-logo {
  width: 58px; height: 58px; border-radius: 14px; overflow: hidden;
  margin: 0 auto 14px; border: 1px solid var(--border2);
}
.stage-modal-logo img { width: 100%; height: 100%; object-fit: cover; }
.stage-modal h2 { font-family: var(--font-d); font-size: 22px; font-weight: 700; color: #fff; margin-bottom: 6px; }
.stage-modal h2 span { color: var(--gold); }
.stage-modal p { color: var(--text2); font-size: 14px; }

.stage-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
}
.stage-card {
  background: var(--navy3); border: 1px solid var(--border);
  border-radius: 12px; padding: 14px 12px; cursor: pointer;
  transition: all .2s; text-align: center;
}
.stage-card:hover { border-color: var(--gold); background: rgba(212,168,67,.07); }
.stage-card.wide { grid-column: 1 / -1; display: flex; align-items: center; justify-content: center; gap: 12px; text-align: left; }
.stage-icon { font-size: 22px; margin-bottom: 6px; }
.stage-num  { font-size: 10px; color: var(--text2); letter-spacing: 1px; text-transform: uppercase; }
.stage-name { font-size: 14px; font-weight: 600; color: #fff; margin: 2px 0; }
.stage-range{ font-size: 11px; color: var(--text2); }

/* ── PRICING MODAL ───────────────────────────────────────────────────────── */
.pricing-modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.75);
  backdrop-filter: blur(8px); z-index: 200;
  display: flex; align-items: center; justify-content: center; padding: 16px;
}
.pricing-modal-backdrop.hidden { display: none; }

.pricing-modal {
  background: var(--navy2); border: 1px solid var(--border2);
  border-radius: 20px; max-width: 820px; width: 100%;
  max-height: 90vh; overflow-y: auto; animation: fadeUp .3s ease;
}

.pm-header {
  display: flex; align-items: flex-start; justify-content: space-between;
  padding: 20px 24px 16px; border-bottom: 1px solid var(--border); gap: 16px;
}
.pm-title-wrap { display: flex; align-items: center; gap: 12px; }
.pm-icon { font-size: 28px; }
.pm-header h2 { font-family: var(--font-d); font-size: 20px; color: var(--gold); margin-bottom: 2px; }
.pm-header p  { font-size: 13px; color: var(--text2); }
.pm-close {
  background: none; border: none; color: var(--text2); font-size: 18px;
  cursor: pointer; padding: 4px 8px; border-radius: 6px; flex-shrink: 0;
  transition: color .2s;
}
.pm-close:hover { color: var(--rose); }

.pm-plans {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px; padding: 20px 24px;
}
.pm-plan {
  background: var(--navy3); border: 1px solid var(--border);
  border-radius: 14px; padding: 16px 14px; cursor: pointer;
  transition: border-color .2s; display: flex; flex-direction: column; gap: 8px;
}
.pm-plan:hover { border-color: var(--gold); }
.pm-plan.pm-selected { border-color: var(--gold); background: rgba(212,168,67,.07); }

.pm-plan-badge {
  font-size: 10px; font-weight: 700; letter-spacing: .5px; text-transform: uppercase;
  padding: 3px 10px; border-radius: 100px; align-self: flex-start;
}
.pm-plan.free .pm-plan-badge       { background: rgba(30,200,176,.15);  color: var(--teal); }
.pm-plan.entry .pm-plan-badge      { background: rgba(74,222,128,.15);  color: #4ade80; }
.pm-plan.structured .pm-plan-badge { background: rgba(59,130,246,.15);  color: var(--blue); }
.pm-plan.midtier .pm-plan-badge    { background: rgba(212,168,67,.15);  color: var(--gold); }
.pm-plan.elite .pm-plan-badge      { background: rgba(224,92,122,.15);  color: var(--rose); }
.pm-popular { background: rgba(59,130,246,.2)!important; color: var(--blue)!important; }

.pm-plan-name  { font-family: var(--font-d); font-size: 15px; font-weight: 700; color: #fff; }
.pm-plan-price { font-size: 18px; font-weight: 700; color: var(--gold); }
.pm-plan-price small { font-size: 12px; color: var(--text2); font-weight: 400; }
.pm-plan-desc  { font-size: 12px; color: var(--text2); line-height: 1.6; }

.pm-features { list-style: none; font-size: 12px; color: var(--text2); display: flex; flex-direction: column; gap: 4px; flex: 1; }
.pm-features li::before { content: none; }

.pm-cta {
  display: block; text-align: center; text-decoration: none; padding: 9px 14px;
  border-radius: 9px; font-family: var(--font-b); font-size: 13px; font-weight: 600;
  cursor: pointer; border: none; transition: opacity .2s; margin-top: auto;
}
.pm-cta:hover { opacity: .85; }
.pm-cta.green { background: var(--teal);  color: #0b1629; }
.pm-cta.gold  { background: linear-gradient(135deg, var(--gold), var(--gold2)); color: #0b1629; }
.pm-cta.blue  { background: var(--blue);  color: #fff; }
.pm-cta.rose  { background: var(--rose);  color: #fff; }

.pm-footer {
  padding: 14px 24px 20px; border-top: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between; gap: 16px; flex-wrap: wrap;
}
.pm-footer-note { font-size: 12px; color: var(--text2); }
.pm-full-link { font-size: 13px; color: var(--gold); text-decoration: none; font-weight: 600; }
.pm-full-link:hover { text-decoration: underline; }

/* ── FLOATING WHATSAPP ───────────────────────────────────────────────────── */
.wa-float {
  position: fixed; bottom: 22px; right: 22px; z-index: 50;
  background: linear-gradient(135deg, #25d366, #128c7e);
  color: #fff; text-decoration: none; border-radius: 100px;
  padding: 12px 16px 12px 14px; display: flex; align-items: center; gap: 8px;
  font-family: var(--font-b); font-size: 14px; font-weight: 600;
  box-shadow: 0 6px 24px rgba(37,211,102,.35); transition: all .25s;
  animation: waPop .5s ease 1.2s both;
}
.wa-float:hover { transform: translateY(-3px) scale(1.03); }
.wa-float-label { }
@keyframes waPop { from{opacity:0;transform:translateY(20px) scale(.85)} to{opacity:1;transform:none} }

/* ── PUSH NOTIFICATION PROMPT ────────────────────────────────────────────── */
.push-prompt {
  position: fixed; bottom: 80px; right: 22px; z-index: 150;
  background: var(--navy2); border: 1px solid rgba(212,168,67,.3);
  border-radius: 14px; padding: 14px 16px; max-width: 300px;
  display: flex; flex-direction: column; gap: 10px;
  box-shadow: 0 8px 32px rgba(0,0,0,.4); animation: fadeUp .3s ease;
}
.push-prompt span { font-size: 13px; color: var(--text); }
.push-allow-btn {
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  color: #0b1629; border: none; border-radius: 8px;
  padding: 8px 14px; font-family: var(--font-b); font-size: 13px; font-weight: 700;
  cursor: pointer;
}
.push-deny-btn {
  background: none; border: 1px solid var(--border2); color: var(--text2);
  border-radius: 8px; padding: 8px 14px; font-family: var(--font-b); font-size: 12px;
  cursor: pointer;
}

/* ── ANIMATIONS ──────────────────────────────────────────────────────────── */
@keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:none} }

/* ── RESPONSIVE ──────────────────────────────────────────────────────────── */
@media (max-width: 768px) {
  .sidebar {
    position: fixed; left: 0; top: 0; bottom: 0;
    transform: translateX(-100%); z-index: 100;
  }
  .sidebar.open { transform: translateX(0); box-shadow: 8px 0 32px rgba(0,0,0,.5); }
  .menu-btn { display: flex; }
  .messages { padding: 14px 12px 8px; }
  .send-label { display: none; }
  .send-btn { padding: 11px 14px; }
  .clear-label { display: none; }
  .stage-grid { grid-template-columns: 1fr 1fr; }
  .wa-float { bottom: 16px; right: 16px; padding: 12px; border-radius: 50%; }
  .wa-float-label { display: none; }
  .push-prompt { right: 12px; bottom: 70px; max-width: 280px; }
  .pm-plans { grid-template-columns: 1fr; }
}

@media (max-width: 380px) {
  .stage-grid { grid-template-columns: 1fr; }
  .topbar-sub { display: none; }
}
